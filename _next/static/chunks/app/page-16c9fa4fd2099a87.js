(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{79391:function(){},20498:function(e,t,n){Promise.resolve().then(n.bind(n,17465))},17465:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Home}});var s=n(31113),o=n(93680),l=n(26537),a=n(30639),r=n(4283),u=n(95702),i=n(44939),c=n(19757),d=n(59175),p=n(5035),f=n(47518),v=n(26361),m=n(69708),x=n(64103),b=n(17695),S=x.useState,esm_useHover=function(e){var t,n,s=S(!1),o=s[0],l=s[1];return"function"==typeof e&&(e=e(o)),[x.cloneElement(e,{onMouseEnter:(t=e.props.onMouseEnter,function(e){(t||b.ZT)(e),l(!0)}),onMouseLeave:(n=e.props.onMouseLeave,function(e){(n||b.ZT)(e),l(!1)})}),o]};let h=[{icon:o.Z,tit:"Interest Bear",sub:"Stablecoin",hoverTextColor:"#ff8080"},{icon:l.Z,tit:"Leverage Bull",sub:"Margin Token",hoverTextColor:"#53baff"},{icon:a.Z,tit:"Principal Panda",sub:"Principal Token",hoverTextColor:"#0ed19a"},{icon:r.Z,tit:"Boost Bribe Venom",sub:"Yield Token",hoverTextColor:"#ebc013"}];function CardItem(e){let[t]=esm_useHover(t=>(0,s.jsxs)("div",{className:(0,v.cn)("card flex items-center gap-5 py-4",e.className),children:[(0,s.jsx)(e.icon,{showBg:t,showOutline:!0,className:(0,v.cn)("text-[3.375rem] ",t?"text-white":"text-black dark:text-white")}),(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("span",{style:{color:t?e.hoverTextColor:""},className:(0,v.cn)("font-semibold text-xl","text-black dark:text-white"),children:e.tit}),(0,s.jsx)("span",{className:"font-medium text-xs opacity-50 dark:text-white",children:e.sub})]})]},e.tit));return t}function Home(){let e=(0,d.p)(),{tvl:t}=(0,p.w)();(0,p.R)(),(0,f.m)();let n=c.iK[e];n.find(e=>"USDB"==e.assetTokenSymbol);let o=(0,m.useRouter)();return(0,s.jsx)(i.E,{children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row max-w-[1160px] mx-auto px-4 gap-10 md:gap-20 h-[calc(100vh-100px)] pt-[5vh] md:pt-[10vh] pb-8 md:justify-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex md:mt-10 text-[5vw] md:text-[min(2.5rem,2.7vw)] !leading-normal font-semibold text-slate-700 dark:text-slate-50",children:["A Structured Protocol for Better ",(0,s.jsx)("br",{}),"Liquidity Utilization."]}),(0,s.jsxs)("div",{className:"flex gap-5 mt-8 w-fit justify-start flex-wrap",children:[(0,s.jsx)("button",{className:"btn-primary !text-sm w-[150px] !mx-0  mt-0",onClick:()=>o.push("/l-vaults"),children:"Launch Dapp"}),(0,s.jsxs)("button",{className:"text-sm h-10 rounded-lg bg-btndis w-[193px] flex justify-center items-center gap-2",onClick:()=>open("https://www.berachain.com","_blank"),children:[(0,s.jsx)(u.c,{size:24,symbol:"berachain"}),"Built on Berachain"]})]})]}),(0,s.jsx)("div",{className:"flex flex-col gap-6",children:h.map(e=>(0,s.jsx)(CardItem,{...e},e.tit))})]})})}},88439:function(e,t,n){"use strict";n.d(t,{b:function(){return useMemoOfChainId}});var s=n(64103),o=n(59175);function useMemoOfChainId(e){let t=(0,o.p)(),n=(0,s.useRef)({});return(0,s.useMemo)(()=>(n.current[t]||(n.current[t]=e()),n.current[t]),[t])}},45438:function(e,t,n){"use strict";n.d(t,{i:function(){return c},p:function(){return useUpdatePtypoolApy}});var s=n(19757),o=n(22139),l=n(3106),a=n(64103),r=n(33737),u=n(93108),i=n(59175);let c=(0,u.Ue)(e=>({update:e}));function useUpdatePtypoolApy(e){let t=(0,i.p)(),n=s.iK[t],u=(0,l.R)(e=>e.sliceLVaultsStore.lvaults);(0,a.useEffect)(()=>{console.info("updatePtypoolApy"),n.forEach(n=>{let l=u[n.vault];if(n.ptyPoolAboveAddress&&l&&l.sellPoolTotalStaking&&c.getState().update({[n.ptyPoolAboveAddress]:{staking:(0,r.v)("0.025",10),matching:0n}}),n.ptyPoolBelowAddress&&l&&l.buyPoolTotalStaking&&!l.isStable){let a=l&&l.sellPoolTotalStaking*e[s.O1[t]],r=a>0n&&l.settingsDecimals>0n?l.M_ETHx*l.Y*e[n.xTokenAddress]*o.Pq/2n/a/l.settingsDecimals**10n:0n;c.getState().update({[n.ptyPoolBelowAddress]:{staking:r*10n**10n/o.Pq,matching:0n}})}})},[n,u,e,t])}},5035:function(e,t,n){"use strict";n.d(t,{R:function(){return useTVLV1},w:function(){return useTVL}});var s=n(19757),o=n(59175),l=n(64103),a=n(52671),r=n(22139),u=n(15506),i=n(16850),c=n(26361),d=n(3106),p=n(83978),f=n.n(p),v=n(87031),m=n(90168);function useTVLV1(){var e,t;let n=(0,o.p)(),d=null===(e=s.Lh[n])||void 0===e?void 0:e[0],p=null===(t=s.Lh[n])||void 0===t?void 0:t[1],{prices:f}=(0,l.useContext)(a.g),{data:v}=(0,u.uX)({contracts:[{abi:i.Wn,address:s.O6[n],functionName:"getVaultState",args:[null==d?void 0:d.vault]},{abi:i.Wn,address:s.O6[n],functionName:"getStableVaultState",args:[null==p?void 0:p.vault]},{abi:i.aT,address:null==d?void 0:d.ptyPoolAboveAddress,functionName:"totalStakingBalance"}]}),m=(0,c.ok)(v,[0,"result","M_ETH"]),x=(0,c.ok)(v,[1,"result","M_USDC"]),b=(0,c.ok)(v,[2,"result"]);return(m+b)*f[s.K8]/r.Pq+x*f[null==p?void 0:p.assetTokenAddress]/r.Pq}function useTVL(){let e=(0,o.p)(),t=s.iK[e],n=v.Fw[e].filter(e=>(e.onEnv||[]).includes(r.Vi)),{prices:u}=(0,l.useContext)(a.g),i=(0,d.R)(e=>e.sliceLVaultsStore.lvaults),c=(0,d.R)(e=>e.sliceTokenStore.totalSupply),p=t.map(e=>{var t;return(null===(t=i[e.vault])||void 0===t?void 0:t.usbTotalSupply)||0n}).reduce((e,t)=>e+t,0n),x=(0,d.R)(e=>e.sliceBVaultsStore.bvaults),b=(0,d.R)(e=>e.sliceTokenStore.prices),S=[{name:s.TW,symbol:s.TW,address:s.O1[e]}].concat(t.map(e=>({name:e.xTokenSymbol+e.version,symbol:e.xTokenSymbol,address:e.xTokenAddress}))).map(e=>{let t=u[e.address],n=e.symbol==s.TW?p:c[e.address]||0n,o=t*n/r.Pq;return{...e,price:t,amount:n,usdAmount:o}}).concat(t.filter(e=>!e.isStable).map(e=>{let t=i[e.vault],n=((null==t?void 0:t.sellPoolTotalStaking)||0n)+((null==t?void 0:t.buyPoolBalance)||0n),s=u[e.assetTokenAddress],o=s*n/r.Pq;return{name:e.assetTokenSymbol+e.version,symbol:e.assetTokenSymbol,address:e.assetTokenAddress,price:s,amount:n,usdAmount:o}})).concat(f().chain(n).mapValues(e=>{let t=m.P[e.asset],n=x[e.vault];t&&n&&n.lpLiq&&n.lpBase&&n.lpQuote&&b[t.base]&&b[t.quote];let s=b[e.asset]||0n,o=(null==n?void 0:n.lpLiq)||0n;return{name:e.assetSymbol,symbol:e.assetSymbol,address:e.asset,price:s,amount:o,usdAmount:s*o/r.Pq}}).values().reduce((e,t)=>{let n=e.find(e=>e.symbol==t.symbol);return n?(n.amount+=t.amount,n.usdAmount+=t.usdAmount,e):[...e,t]},[]).value()),h=S.reduce((e,t)=>e+t.usdAmount,0n);return{tvl:h,tvlItems:S}}},47518:function(e,t,n){"use strict";n.d(t,{m:function(){return useTokenApys}});var s=n(26361),o=n(88439),l=n(45438),a=n(19757),r=n(52671),u=n(3106),i=n(39577),c=n(64103),d=n(33737),p=n(59175);function useTokenApys(){let e=(0,o.b)(()=>(0,s.Yb)({},0n)),t=(0,p.p)(),{prices:n,usbApr:f}=(0,c.useContext)(r.g),v=(0,i.aS)(),m=(0,l.i)(),x=(0,u.R)(e=>e.sliceLVaultsStore.lvaults);return(0,c.useMemo)(()=>{let n=a.iK[t],o=(0,s.ok)(m[n[0].ptyPoolBelowAddress],"staking");e[a.O1[t]]=f.apr,e.USB_END=f.apr+o;let l=(0,d.v)("0.1",10);return n.forEach(t=>{let n=x[t.vault];if(t.assetTokenAddress!=a.K8&&n){let s=v[t.vault]>1n?(0,d.v)("".concat((v[t.vault]-1).toFixed(2)),10):0n,o=(0,d.v)("1",10);e[t.xTokenAddress]=(s*(l-n.Y*n.aar/o)+l*o)/o}}),null},[t,n,v,f,m]),e}},52671:function(e,t,n){"use strict";n.d(t,{g:function(){return b},A:function(){return FetcherProvider}});var s=n(31113),o=n(19757),l=n(22139),a=n(59175),r=n(64103),u=n(25233),i=n(87958),c=n(41340),d=n(73216),p=n(88439),f=n(45438),v=n(26361),m=n(18358),x=n(39577);let b=(0,r.createContext)({prices:(0,v.Yb)({},0n),usbApr:{apr:0n,aprDecimals:10}}),FetcherProvider=e=>{let{children:t}=e;(0,m.d6)();let n=(0,a.p)();!function(){let{chainId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,u.m)({chainId:e});r.useMemo(()=>(t&&(d.ON.provider=function(e){var t,n;let{chain:s,transport:o}=e,l={chainId:s.id,name:s.name,ensAddress:null===(n=s.contracts)||void 0===n?void 0:null===(t=n.ensRegistry)||void 0===t?void 0:t.address};return"fallback"===o.type?new i.H(o.transports.map(e=>{let{value:t}=e;return new c.r(null==t?void 0:t.url,l)})):new c.r(o.url,l)}(t)),d.ON.provider),[t])}();let S=(0,p.b)(()=>(0,v.Yb)({[o.O1[n]]:l.Pq},0n));(0,x.$$)(S);let h=(0,x.UM)();return(0,f.p)(S),(0,s.jsx)(b.Provider,{value:{prices:S,usbApr:h},children:t})}},39577:function(e,t,n){"use strict";n.d(t,{$$:function(){return useSetLVaultPrices},UM:function(){return useUSBApr},aS:function(){return useValutsLeverageRatio},hC:function(){return useLVault},hY:function(){return useUserLVault},so:function(){return useUpLVaultOnUserAction},z6:function(){return useVaultLeverageRatio}});var s=n(19757),o=n(22139),l=n(59175),a=n(88439),r=n(26361),u=n(3106),i=n(96670),c=n(73216);let d=(0,r.Yb)({vaultMode:0,discountEnable:!1},0n),p=(0,r.Yb)({},0n);function useLVault(e){return(0,u.R)(t=>t.sliceLVaultsStore.lvaults[e]||d)}function useUserLVault(e){return(0,u.R)(t=>t.sliceLVaultsStore.user[e]||p)}function useVaultLeverageRatio(e){let t=useLVault(e.vault),n=(0,r.pF)(t.aar,t.AARDecimals);return Math.max(0,1+1/(n-1))}function useValutsLeverageRatio(){let e=(0,l.p)(),t=s.iK[e],n=(0,a.b)(()=>(0,r.Yb)({},0)),o=(0,u.R)(e=>e.sliceLVaultsStore.lvaults);return t.forEach(e=>{let t=o[e.vault],s=t?(0,r.pF)(t.aar,t.AARDecimals):0;n[e.vault]=Math.max(0,1+1/(s-1))}),n}function useSetLVaultPrices(e){let t=(0,u.R)(e=>e.sliceLVaultsStore.lvaults),n=(0,u.R)(e=>e.sliceTokenStore.totalSupply),a=(0,l.p)();s.iK[a].forEach(l=>{let r=t[l.vault]||d,u=r.assetBalance,i=r.latestPrice,c=r.usbTotalSupply,p=n[l.xTokenAddress]||0n,f=p>0n&&u>0n&&i>0n&&c>0n&&u*i>c*o.Pq?(u*i-c*o.Pq)/p:0n;e[l.xTokenAddress]=f,e[l.assetTokenAddress]=i,p>0n&&u>0n&&i>0n&&c>0n&&u*i<c*o.Pq&&(e[s.O1[a]]=u*i/c)})}function useUSBApr(){let e=(0,l.p)(),t=(0,u.R)(e=>e.sliceLVaultsStore.lvaults),n=0,o=0n,a=0n;return s.iK[e].forEach(e=>{let s=t[e.vault]||d;s.isStable?(o+=s.M_USB_USDC*s.Y*s.aar/10n**s.AARDecimals,a+=s.M_USB_USDC,s.M_USB_USDC>0n&&s.Y>0n&&n++):(o+=s.M_USB_ETH*s.Y,a+=s.M_USB_ETH,s.M_USB_ETH>0n&&s.Y>0n&&n++)}),{apr:a>0n?o/a:0n,aprDecimals:10}}function useUpLVaultOnUserAction(e){let{address:t}=(0,i.m)();return()=>{(0,r.XD)(async()=>{if(!t)return;let n=u.w.getState().sliceLVaultsStore,o=[e.assetTokenAddress,e.xTokenAddress,s.O1[(0,c.BV)()]];await Promise.all([n.updateLVaults([e]),n.updateUserLVault(e,t),u.w.getState().sliceTokenStore.updateTokensBalance(o,t),u.w.getState().sliceTokenStore.updateTokenTotalSupply(o)])},3,1e3).catch(console.error)}}},17695:function(e,t,n){"use strict";n.d(t,{S1:function(){return off},ZT:function(){return noop},jU:function(){return s},on:function(){return on}});var noop=function(){};function on(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function off(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var s="undefined"!=typeof window}},function(e){e.O(0,[4881,7495,7622,4460,4167,3204,9246,5974,7112,7093,604,1744],function(){return e(e.s=20498)}),_N_E=e.O()}]);