(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9102],{92537:function(e,t,a){Promise.resolve().then(a.bind(a,32933))},32933:function(e,t,a){"use strict";let s;a.r(t),a.d(t,{default:function(){return Vaults}});var n=a(31113),l=a(30639),i=a(4283),c=a(16850),r=a(73216),o=a(90168),d=a(22139),m=a(15506),x=a(26361),u=a(3106),p=a(18358),h=a(84944),b=a(78321),v=a(42487),f=a.n(v),g=a(69708),j=a(64103),N=a(12485),w=a(14993),y=a(85665),k=a(20265),T=a(67541),S=a(96670),B=a(4408),C=a(30308),P=a(99548),E=a(91214),V=a(95702);function DefEmpty(){return(0,n.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,n.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top"})})}var simple_table=e=>{let{header:t,data:a,span:s={},empty:l=(0,n.jsx)(DefEmpty,{}),className:i="relative min-w-full bg-transparent ",headerClassName:c,headerItemClassName:r,tbodyClassName:o="",rowClassName:d,rowStyle:m,cellClassName:u,onClickRow:p,onRowMouseHover:h}=e;return(0,n.jsxs)("table",{className:(0,x.cn)("relative min-w-full bg-transparent ",i),children:[(0,n.jsx)("thead",{className:"",children:(0,n.jsx)("tr",{className:(0,x.cn)("text-left whitespace-nowrap font-normal text-black border-b border-gray-100 pt-5 pb-6 dark:text-slate-50 dark:border-zinc-600",c),children:t.map((e,t)=>(0,n.jsx)("th",{colSpan:s[t],scope:"col",className:(0,x.cn)(0==s[t]?"p-0 w-0":"p-3 font-normal text-sm",r),children:e},t))})}),(0,n.jsxs)("tbody",{className:(0,x.cn)(o),children:[a.map((e,a)=>(0,n.jsx)("tr",{onClick:()=>p&&p(a),onMouseEnter:()=>h&&h(a),onMouseLeave:()=>h&&h(-1),style:"function"==typeof m?m(a):m,className:(0,x.cn)("text-slate-700 dark:text-slate-50 font-medium whitespace-nowrap",p?"cursor-pointer hover:bg-slate-400/10":"","function"==typeof d?d(a):d),children:e.map((e,l)=>l>=t.length?(0,n.jsx)(n.Fragment,{children:e}):(0,n.jsx)("td",{colSpan:s[l],className:(0,x.cn)(0==s[l]?"p-0 w-max":"px-3 py-2 text-sm w-max","function"==typeof u?u(a,l):u),children:e},l))},a)),0===a.length&&l]})]})},R=a(16738);function Switch(e){return(0,n.jsx)("div",{style:{padding:1,border:"1px solid transparent",backgroundRepeat:"no-repeat",backgroundClip:"padding-box,border-box",backgroundOrigin:"padding-box,border-box",backgroundImage:e.checked?"radial-gradient(#0B1215,#0B1215),radial-gradient(122.5% 122.5% at 52.9% 16.25%, #15D264 0%, #2CBD35 36.26%, #DCF45D 92.54%)":"radial-gradient(#0A1114,#0A1114),radial-gradient(#4A5546,#4A5546)"},className:(0,x.cn)("relative h-[1em] w-[2.5em] cursor-pointer rounded-[0.4em] text-xl"),onClick:()=>{var t;return null===(t=e.onChange)||void 0===t?void 0:t.call(e,!e.checked)},children:(0,n.jsx)("div",{className:(0,x.cn)("transition-all h-full w-[1.5em] absolute top-0 rounded-[0.4em]",e.checked?"-left-[1px]":"left-[1em]"),style:{background:e.checked?"radial-gradient(76.25% 76.25% at 50.3% 23.75%, #1BCD59 0%, #B3E854 100%)":"#3B4144"}})})}var Y=a(6371),A=a(718),q=a(44769),F=a(83606);let instance=()=>(s&&s.defaults.baseURL==="https://beta-api.".concat(q.Kh.value)||(s=F.Z.create({baseURL:"https://beta-api.".concat(q.Kh.value),timeout:1e4,headers:{"Content-Type":"application/json"}})),s);var I={get:async function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.startsWith("/auth")){let e=localStorage.getItem("earlyaccess-token");if(!e)throw"Need token";s.headers={...s.headers||{},Authorization:e}}let n=await instance().get(e,{...s,params:a});if(console.info("res:",null==n?void 0:n.data),(null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.code)!==200)throw n.data;return n.data.data},post:async function(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.startsWith("/auth")){let e=localStorage.getItem("earlyaccess-token");if(!e)throw"Need token";s.headers={...s.headers||{},Authorization:e}}let n=await instance().post(e,a,s);if((null==n?void 0:null===(t=n.data)||void 0===t?void 0:t.code)!==200)throw n.data;return n.data.data}};let getBvaultEpochYtPrices=(e,t)=>I.get("/api/bvault/getEpochYTPrices/".concat(e,"/").concat(t));var M=a(64370),D=a(49041),L=a(64217),U=a(83978),_=a.n(U),W=a(11292);function BvaultEpochYtPrices(e){let{bvc:t,epochId:a}=e,{data:s}=(0,M.a)({queryKey:["bvualt-epoch-yt-prices",t.vault,a],queryFn:()=>getBvaultEpochYtPrices(t.vault,a),initialData:[]}),l=s.map(e=>[(0,x.d3)(1e3*e.time,"all"),_().round(parseFloat((0,W.d)(BigInt(e.price))),5)]),i={tooltip:{trigger:"axis",valueFormatter:e=>e.toString()},grid:{show:!1},toolbox:{show:!1},xAxis:{type:"category",boundaryGap:!1},yAxis:{type:"value",boundaryGap:[0,"100%"],splitLine:{show:!1}},dataZoom:[{type:"inside",start:0,end:100},{show:!1}],series:[{name:"YT Price",type:"line",symbol:"none",sampling:"lttb",itemStyle:{color:"rgb(30, 202, 83)"},areaStyle:{color:new L.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"rgb(30, 202, 83)"},{offset:1,color:"rgba(30, 202, 83, 0.2)"}])},data:l}]};return(0,n.jsxs)("div",{className:"card mx-auto max-w-4xl w-full",children:[(0,n.jsxs)("div",{className:"flex justify-between gap-2 items-center",children:[(0,n.jsx)("span",{className:"text-base font-bold",children:"YT Price Chart"}),(0,n.jsx)("span",{className:"text-xs font-medium text-[#FBECEC]",children:"The value of YT will become ZERO at the end of the Epoch."})]}),(0,n.jsx)(D.Z,{option:i})]})}function TupleTxt(e){return(0,n.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,n.jsx)("div",{className:"text-xs dark:text-white/60 font-medium",children:e.tit}),(0,n.jsx)("div",{className:(0,x.cn)("text-lg  font-medium flex items-center",e.subClassname),children:e.sub})]})}let G="max-w-4xl mx-auto w-full";function BVaultP(e){let{bvc:t}=e,{address:a}=(0,S.m)(),[s,i]=(0,j.useState)(""),d=(0,x.su)(s),m=o.P[t.asset],b=!!m,v=b?"PT":t.pTokenSymbol,g=b?"LP":t.assetSymbol,[N,w]=(0,j.useState)(""),y=(0,x.su)(N),k=(0,p.nr)(t.vault),C=(0,p.Vw)(t.vault)[0],{ids:V,claimable:A}=(0,p.gz)(t.vault),q=(0,u.R)(e=>e.sliceTokenStore.balances[t.asset]||0n),F=(0,u.R)(e=>e.sliceTokenStore.balances[t.pToken]||0n),I=(null==C?void 0:C.redeemingBalance)||0n,M="Your ".concat(v," can be claimed 1:1 for ").concat(g," at the end of this Epoch"),[D]=(0,p.oU)(t.vault),{data:L}=(0,B.p)(),U=(0,p.R3)(t),renderClaimable=()=>(0,n.jsxs)("div",{className:"flex text-xs items-center gap-5",children:["Claimable: ".concat((0,h.d)(A)),(0,n.jsx)(P.v,{className:"",busyShowTxet:!1,txType:"btn-link",tx:"Claim",disabled:A<=0n,config:{abi:c.j5,address:t.vault,functionName:"batchClaimRedeemAssets",args:[V.length>40?V.slice(V.length-40):V]},onTxSuccess:()=>{U()}})]});return(0,n.jsxs)("div",{className:(0,x.cn)("grid grid-cols-1 md:grid-cols-3 gap-5",G),children:[(0,n.jsxs)("div",{className:"card !p-0 overflow-hidden min-h-[16.875rem]",children:[(0,n.jsxs)("div",{className:"flex p-5 bg-[#A3D395] gap-5",children:[(0,n.jsx)(l.Z,{className:"text-[3.375rem]",showBg:!0}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"text-xl text-black font-semibold",children:t.pTokenSymbol}),(0,n.jsx)("div",{className:"text-xs text-black/60 font-medium",children:"Interest bearing rebase principal token"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col p-5 gap-5",children:[(0,n.jsx)(TupleTxt,{tit:"APY Est.",sub:D}),(0,n.jsx)(TupleTxt,{tit:"Total Minted",sub:(0,n.jsxs)(n.Fragment,{children:[(0,h.d)(k.pTokenTotal),(0,n.jsx)("button",{className:"btn-link ml-auto text-black/60 dark:text-white/60 text-xs",onClick:()=>{null==L||L.watchAsset({type:"ERC20",options:{address:t.pToken,symbol:t.pTokenSymbol,decimals:18}}).catch(x.S3)},children:"Add to wallet"})]})})]})]}),(0,n.jsx)("div",{className:"md:col-span-2 card !p-4",children:(0,n.jsx)(R.x,{data:[{tab:"Mint",content:(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(E.W,{asset:t.assetSymbol,amount:s,balance:q,setAmount:i}),(0,n.jsxs)("div",{className:"text-xs font-medium flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Receive 1 ".concat(v," for every ").concat(g)}),b&&(0,n.jsx)(f(),{target:"_blank",className:"underline",href:(0,r.FN)(t.asset),children:"Get LP on BEX"})]}),(0,n.jsx)(P.v,{className:"mx-auto mt-6",tx:"Mint",disabled:d<=0n||d>q,spender:t.vault,approves:{[t.asset]:d},config:{abi:c.j5,address:t.vault,functionName:"deposit",args:[d]},onTxSuccess:()=>{i(""),U()}})]})},{tab:"Redeem",content:(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(E.W,{asset:t.pTokenSymbol,assetIcon:"Panda",amount:N,balance:F,setAmount:w}),C&&C.settled&&(0,n.jsxs)("div",{className:"flex flex-wrap justify-between items-center h-5",children:[(0,n.jsx)("div",{className:"text-xs font-medium",children:M}),renderClaimable()]}),(0,n.jsx)(P.v,{className:"mx-auto mt-6",tx:"Redeem",spender:null==C?void 0:C.redeemPool,approves:{[t.pToken]:y},disabled:C&&y<=0n||y>F,config:{abi:c.gg,address:(null==C?void 0:C.redeemPool)||T.DR,functionName:"redeem",args:[y]},onTxSuccess:()=>{w(""),U()}}),(!C||!C.settled)&&(0,n.jsxs)("div",{className:"flex flex-wrap justify-between items-center h-5 mt-5",children:[(0,n.jsxs)("div",{className:"text-xs font-medium",children:["Redemption in transit: ".concat((0,h.d)(I))," ",(0,n.jsx)(Y.C,{children:"Redemption will be completed at the end of an Epoch."})]}),renderClaimable()]})]})}]})})]})}function BVaultY(e){let{bvc:t}=e,a=t.assetSymbol.includes("-");a||t.pTokenSymbol;let s=a?"YT":t.yTokenSymbol,l=a?"LP token":t.assetSymbol,[r,o]=(0,j.useState)(""),v=(0,x.su)(r),{address:f}=(0,S.m)(),g=(0,p.nr)(t.vault),y=(0,p.qM)(t.vault),k=(0,p.Vw)(t.vault)[0],T=(0,u.R)(e=>e.sliceTokenStore.balances[t.asset]||0n),{data:B,refetch:V}=(0,C.u)({abi:c.j5,address:t.vault,functionName:"calcSwap",args:[v],query:{retry:!0}}),R=(0,m.hp)();(0,j.useEffect)(()=>{V()},[R.time]);let[Y,A]=(0,w.Z)(!1),q=(null==k?void 0:k.vaultYTokenBalance)||0n,F=(0,x.ok)(B,"1"),I=q>0n?y.Y*d.Pq/q:0n,M=I>0n?d.Pq*d.Pq/I:0n,D=Y?"1 ".concat(l,"=").concat((0,h.d)(M)," ").concat(s):"1 ".concat(s,"=").concat((0,h.d)(I)," ").concat(l),L=q>F?(y.Y+v)*d.Pq/(q-F):0n,U=(0,x.Kl)(F),_=L>I&&I>0n?(L-I)*BigInt(1e10)/I:0n,W=y.yTokenAmountForSwapYT>0n?g.lockedAssetTotal*d.Pq/y.yTokenAmountForSwapYT:0n,[K]=(0,p.v7)(t.vault),O=(0,p.R3)(t);return(0,n.jsxs)("div",{className:(0,x.cn)("grid grid-cols-1 md:grid-cols-3 gap-5 mt-5",G),children:[(0,n.jsxs)("div",{className:"card !p-0 overflow-hidden",children:[(0,n.jsxs)("div",{className:"flex p-5 bg-[#F0D187] gap-5",children:[(0,n.jsx)(i.Z,{className:"text-[3.375rem]",showBg:!0}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("div",{className:"text-xl text-black font-semibold",children:t.yTokenSymbol}),(0,n.jsx)("div",{className:"text-xs text-black/60 font-medium",children:"Yield token"})]})]}),(0,n.jsxs)("div",{className:"flex flex-col p-5 gap-5",children:[(0,n.jsxs)("div",{className:"text-base font-semibold flex gap-5 items-end",children:[(0,n.jsxs)("span",{className:"text-4xl font-medium",children:[K,"x"]}),"Yield Boosted"]}),(0,n.jsx)(TupleTxt,{tit:"Total Minted",sub:(0,n.jsxs)(n.Fragment,{children:[(0,h.d)(y.yTokenAmountForSwapYT),(0,n.jsxs)("span",{className:"text-xs ml-auto",children:["1",s," = Yield of ",(0,n.jsx)("br",{}),(0,h.d)(W,2)," ",l]})]})}),k&&(0,n.jsxs)("div",{className:"dark:text-white/60 text-xs whitespace-nowrap gap-1 flex w-full flex-col",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{children:"Epoch ".concat(k.epochId.toString())}),(0,n.jsxs)("span",{className:"scale-90",children:["~",(0,x.Y)((k.startTime+k.duration)*1000n-BigInt(new Date().getTime()))," remaining"]})]}),(0,n.jsx)(b.Z,{value:(e=>{let t=BigInt(Math.floor(new Date().getTime()/1e3));if(t<e.startTime)return 0;if(t-k.startTime>=k.duration)return 100;let a=(t-k.startTime)*100n/e.duration;return parseInt(a.toString())})(k),className:"mt-2 rounded-full overflow-hidden"}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"scale-90",children:(0,x.d3)(1000n*k.startTime,"all")}),(0,n.jsx)("span",{className:"scale-90",children:(0,x.d3)((k.startTime+k.duration)*1000n,"all")})]})]})]})]}),(0,n.jsxs)("div",{className:"md:col-span-2 card !p-4 flex flex-col gap-1",children:[(0,n.jsx)(E.W,{asset:t.assetSymbol,amount:r,balance:T,setAmount:o}),(0,n.jsx)("div",{className:"text-base font-bold my-2",children:"Receive"}),(0,n.jsx)(E.W,{asset:t.yTokenSymbol,assetIcon:"Venom",readonly:!0,disable:!0,amount:U}),(0,n.jsxs)("div",{className:"text-xs font-medium  flex justify-between select-none",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(N.k$E,{className:"text-sm text-primary cursor-pointer inline-block",onClick:()=>A()}),(0,n.jsx)("span",{children:"Price: ".concat(D)})]}),(0,n.jsx)("span",{children:"Price Impact: ".concat((0,x.Jh)(_,10,2))})]}),(0,n.jsxs)("div",{className:"text-xs font-medium text-black/80 dark:text-white/80",children:["1\xa0",s," represents the yield ",(0,n.jsx)("span",{className:"font-extrabold text-base",children:"at least"})," 1 ",l,"\xa0until the end of Epoch."]}),(0,n.jsx)(P.v,{className:"mx-auto mt-6",tx:"Buy",disabled:v<=0n||v>T,config:{abi:c.j5,address:t.vault,functionName:"swap",args:[v]},approves:{[t.asset]:v},spender:t.vault,onTxSuccess:()=>{o(""),O()}})]})]})}function BribeTit(e){return(0,n.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,n.jsx)(V.c,{symbol:"GreenDot",size:14}),(0,n.jsx)("span",{className:"text-sm font-medium",children:e.name})]})}function BVaultPools(e){let{bvc:t}=e,{address:a}=(0,S.m)(),[s,l]=(0,j.useState)(!1),i=(0,p.Vw)(t.vault),r=(0,j.useMemo)(()=>s?i.filter(e=>e.bribes.reduce((e,t)=>e+t.bribeAmount,0n)>0n):i,[i,s]),[o,m]=(0,y.Z)(),u="text-black/60 dark:text-white/60 text-sm",[b,v]=(0,j.useState)(r[0]);(0,j.useEffect)(()=>{v(r[0])},[r]);let f=(null==b?void 0:b.userBalanceYToken)||0n,onRowClick=e=>{v(r[e])},g=(null==b?void 0:b.bribes)||[],N=(0,j.useMemo)(()=>{let e=g.find(e=>e.bribeAmount>0n);return e?(0,x.Jh)(e.bribeAmount*d.Pq/e.totalRewards,18):(0,x.Jh)(0n,0n)},[g]),w=(0,p.R3)(t);return(0,n.jsxs)("div",{className:(0,x.cn)("grid grid-cols-1 md:grid-cols-3 gap-5 mt-5",G),children:[(0,n.jsxs)("div",{ref:o,children:[(0,n.jsxs)("div",{className:"flex items-center gap-8 text-xl font-semibold mb-6",children:[(0,n.jsx)("span",{children:"My Pool Only"}),(0,n.jsx)(Switch,{checked:s,onChange:l})]}),(0,n.jsx)(k.aV,{className:r.length>6?"pr-5":"",width:m.width,height:m.height-52,rowHeight:e=>{let{index:t}=e;return t<r.length-1?76:56},overscanRowCount:6,rowCount:r.length,rowRenderer:function(e){let{key:t,style:a,index:s}=e,l=r[s],i="".concat((0,x.d3)(1000n*l.startTime,"date"),"-").concat((0,x.d3)((l.startTime+l.duration)*1000n,"date"));return(0,n.jsx)("div",{style:a,className:"cursor-pointer",onClick:()=>onRowClick(s),children:(0,n.jsxs)("div",{className:(0,x.cn)("flex h-[56px] card !rounded-lg !p-5 justify-between items-center font-semibold",s<r.length-1?"mb-[20px]":""),children:[(0,n.jsxs)("div",{className:"text-base",children:["Epoch ",r[s].epochId.toString()]}),(0,n.jsx)("div",{className:"text-xs dark:text-white/60",children:i})]})},t)}})]}),(0,n.jsxs)("div",{className:"md:col-span-2 card !p-4 flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex gap-6 items-end font-semibold",children:[(0,n.jsx)("span",{className:"text-xl ",children:"Accumulated Rewards"}),(0,n.jsxs)("span",{className:"text-xs dark:text-white/60",children:["Epoch ",((null==b?void 0:b.epochId)||1n).toString()]})]}),(0,n.jsx)("div",{className:"flex-1 mt-3 rounded-lg border border-solid border-border p-4",children:(0,n.jsx)(simple_table,{headerClassName:"text-center text-black/60 dark:text-white/60 border-b-0",rowClassName:"text-center",header:["","","Total","Mine",""],span:{1:2,2:1,3:1},data:g.map(e=>["",(0,n.jsx)(BribeTit,{name:e.bribeSymbol},"1"),(0,h.d)(e.totalRewards),(0,h.d)(e.bribeAmount),""])})}),(0,n.jsxs)("div",{className:"rounded-lg border border-solid border-border px-4 py-2 flex justify-between items-center",children:[(0,n.jsxs)("div",{className:"font-semibold text-xs",children:[(0,n.jsxs)("div",{children:["My yToken: ",(0,n.jsx)("span",{className:(0,x.cn)(u),children:(0,h.d)(f)})]}),(0,n.jsxs)("div",{children:["Time Weighted Points: ",(0,n.jsx)("span",{className:(0,x.cn)(u),children:(0,h.d)(null==b?void 0:b.userBalanceYTokenSyntyetic)})]})]}),(0,n.jsxs)("div",{children:["My Share: ",(0,n.jsx)("span",{className:(0,x.cn)(u,"text-2xl"),children:N})]})]}),(0,n.jsx)("span",{className:"text-xs mx-auto",children:"You can harvest at the end of Epoch"}),(0,n.jsx)(P.v,{className:"mx-auto mt-4",tx:"Harvest",disabled:!b||!(null==b?void 0:b.settled),config:{abi:c.j5,address:t.vault,functionName:"claimBribes",args:[null==b?void 0:b.epochId]},onTxSuccess:()=>{w()}})]})]})}function BVaultMint(e){let{bvc:t}=e,a=(0,p.nr)(t.vault);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(BVaultP,{bvc:t}),(0,n.jsx)(BVaultY,{bvc:t}),a.epochCount&&(0,n.jsx)(BvaultEpochYtPrices,{bvc:t,epochId:a.epochCount})]})}function BVaultHarvest(e){let{bvc:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(BVaultPools,{bvc:t})})}function BVaultCard(e){let{vc:t}=e,a=(0,g.useRouter)(),[s,l]=t.assetSymbol.split("-"),i=(0,p.nr)(t.vault),c=o.P[t.asset],r=(0,u.R)(e=>e.sliceTokenStore.prices),m=c&&r[c.base]||0n,b=c&&r[c.quote]||0n,v=i.lpBase||0n,f=i.lpQuote||0n,j=v*m/d.Pq,N=f*b/d.Pq,w=j+N,[y]=(0,p.v7)(t.vault),[k]=(0,p.oU)(t.vault),T="Epoch ".concat(((null==i?void 0:i.epochCount)||0n).toString());return(0,n.jsxs)("div",{className:(0,x.cn)("card cursor-pointer !p-0 grid grid-cols-2 overflow-hidden",{}),onClick:()=>a.push("/b-vaults?vault=".concat(t.vault)),children:[(0,n.jsxs)("div",{className:(0,x.cn)(A.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center"),children:[(0,n.jsx)(V.c,{symbol:t.assetSymbol,size:44}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:t.assetSymbol}),(0,n.jsx)("div",{className:" text-sm font-medium",children:t.assetSymbol.includes("-")?"LP Token":""})]}),(0,n.jsxs)("div",{className:"ml-auto",children:[(0,n.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,n.jsxs)("div",{className:"text-sm font-medium",children:["$",(0,h.d)(w,2)]})]})]}),(0,A.BW)(s,v,j),(0,A.BW)(l,f,N,!0),(0,A.yP)("Status","status",T),(0,A.yP)("Reward","iBGT","iBGT",!0),(0,A.Sn)("Panda","Principal Panda",k,"Venom","Boost Venom","".concat(y,"x"))]})}function BVaultCardComming(e){let{symbol:t}=e;return(0,n.jsxs)("div",{className:(0,x.cn)("card cursor-pointer !p-0 grid grid-cols-2 overflow-hidden h-[367px]",{}),children:[(0,n.jsxs)("div",{className:(0,x.cn)(A.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center h-20"),children:[(0,n.jsx)(V.c,{symbol:t,size:44}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:t}),(0,n.jsx)("div",{className:" text-sm font-medium",children:t.includes("-")?"LP Token":""})]}),(0,n.jsxs)("div",{className:"ml-auto",children:[(0,n.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,n.jsx)("div",{className:"text-sm font-medium",children:"$-"})]})]}),(0,n.jsx)("div",{className:(0,x.cn)(A.bG,"col-span-2"),children:(0,n.jsx)("div",{className:"text-xs font-semibold leading-[12px] whitespace-nowrap",children:"New Vault Comming Soon..."})})]})}var K=a(6868),O=a(44939),H=a(87031),Z=a(59175),z=a(62600);let J=["mint","harvest"];function BVaultPage(e){let{bvc:t}=e,{address:a}=(0,S.m)(),s=(0,p.nr)(t.vault);(0,M.a)({queryKey:["UpdateVaultDetails",t,s],queryFn:async()=>{if(0n==s.epochCount)return!1;let e=u.w.getState().sliceBVaultsStore;return await e.updateEpoches(t),await e.updateEpochesRedeemPool(t),!0}});let l=(0,p.Vw)(t.vault);return(0,M.a)({queryKey:["UpdateUserData",t,l,a],queryFn:async()=>0!=l.length&&!!a&&(console.info("epochesOld:",l),await u.w.getState().sliceUserBVaults.updateEpoches(t,a,l),!0)}),(0,n.jsx)(R.x,{listClassName:"flex-wrap p-0 mb-5 md:gap-14",triggerClassName:'text-lg sm:text-xl md:text-2xl py-0 data-[state="active"]:border-b border-b-black dark:border-b-white leading-[0.8] rounded-none whitespace-nowrap',contentClassName:"gap-5",data:[{tab:"Mint",content:(0,n.jsx)(BVaultMint,{bvc:t})},{tab:"Harvest",content:(0,n.jsx)(BVaultHarvest,{bvc:t})}]})}function Vaults(){let e=(0,Z.p)(),t=(0,j.useMemo)(()=>H.Fw[e].filter(e=>e.onEnv&&e.onEnv.includes(d.Vi)),[e,d.Vi]),a=(0,g.useSearchParams)(),s=a.get("vault"),l=a.get("tab");J.includes(l);let i=t.find(e=>e.vault==s);(0,M.a)({queryKey:[t],queryFn:async()=>{let e=u.w.getState().sliceBVaultsStore;return await e.updateBvaults(t),await e.updateBvaultsCurrentEpoch(),!0}});let{address:c}=(0,S.m)(),r=(0,j.useMemo)(()=>t.map(e=>[e.asset,e.pToken]).flat().reduce((e,t)=>e.includes(t)?e:[...e,t],[]),[t]);return(0,M.a)({queryKey:["UpdateBvautlsTokens",r],queryFn:async()=>(await u.w.getState().sliceTokenStore.updateTokenTotalSupply(r),await u.w.getState().sliceTokenStore.updateTokenPrices(r),!0),throwOnError:(e,t)=>(console.error(e),!1)}),(0,M.a)({queryKey:["UpdateUserBvautlsTokens",r,c],queryFn:async()=>!!c&&(await u.w.getState().sliceTokenStore.updateTokensBalance(r,c),!0)}),(0,n.jsx)(O.E,{children:(0,n.jsx)("div",{className:"w-full max-w-[1160px] px-4 mx-auto md:pb-8",children:i?(0,n.jsx)(BVaultPage,{bvc:i}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"page-title",children:"B-Vaults"}),(0,n.jsx)(K.K,{data:"A pendle-like product with more innovation."}),(0,n.jsxs)(z.r,{numItems:1,numItemsMd:2,numItemsLg:3,className:"gap-5 mt-4",children:[t.map((e,t)=>(0,n.jsx)(BVaultCard,{vc:e},"group_vault_item_".concat(t))),0==t.length&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(BVaultCardComming,{symbol:"HONEY-USDC"}),(0,n.jsx)(BVaultCardComming,{symbol:"HONEY-WBTC"}),(0,n.jsx)(BVaultCardComming,{symbol:"HONEY-WETH"})]})]})]})})})}}},function(e){e.O(0,[4881,7495,7622,5294,3113,4105,3339,1228,7348,776,4300,1900,5545,4908,2487,9516,6243,8358,2877,5808,7093,604,1744],function(){return e(e.s=92537)}),_N_E=e.O()}]);