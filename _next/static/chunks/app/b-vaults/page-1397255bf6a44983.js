(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9102],{92537:function(e,a,s){Promise.resolve().then(s.bind(s,57738))},57738:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return Vaults}});var t=s(31113),l=s(30639),n=s(4283),c=s(63244),d=s(22139),i=s(26361),o=s(78202),r=s(84944),x=s(69708),m=s(64103),u=s(85665),b=s(20265),p=s(67541),h=s(32843),f=s(99548),v=s(91214),j=s(95702),g=s(75496),N=s(16738);function Switch(e){return(0,t.jsx)("div",{style:{padding:1,border:"1px solid transparent",backgroundRepeat:"no-repeat",backgroundClip:"padding-box,border-box",backgroundOrigin:"padding-box,border-box",backgroundImage:e.checked?"radial-gradient(#0A1114,#0A1114),radial-gradient(#4A5546,#4A5546)":"radial-gradient(#0B1215,#0B1215),radial-gradient(122.5% 122.5% at 52.9% 16.25%, #15D264 0%, #2CBD35 36.26%, #DCF45D 92.54%)"},className:(0,i.cn)("relative h-[1em] w-[2.5em] cursor-pointer rounded-[0.4em] text-xl"),onClick:()=>{var a;return null===(a=e.onChange)||void 0===a?void 0:a.call(e,!e.checked)},children:(0,t.jsx)("div",{className:(0,i.cn)("transition-all h-full w-[1.5em] absolute top-0 rounded-[0.4em]",e.checked?"left-[1em]":"-left-[1px]"),style:{background:e.checked?"#3B4144":"radial-gradient(76.25% 76.25% at 50.3% 23.75%, #1BCD59 0%, #B3E854 100%)"}})})}var k=s(718);function TupleTxt(e){return(0,t.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,t.jsx)("div",{className:"text-xs dark:text-white/60 font-medium",children:e.tit}),(0,t.jsx)("div",{className:"text-lg  font-medium",children:e.sub})]})}let w="max-w-4xl mx-auto w-full";function BVaultP(e){let{bvc:a}=e,[s,n]=(0,m.useState)(""),d=(0,i.su)(s),[x,u]=(0,m.useState)(""),b=(0,i.su)(x),{bVaultsData:h}=(0,m.useContext)(o.g),j=h[a.vault],g=j.epoches.find(e=>0n==e.epochId),k=(null==g?void 0:g.balanceAssset)||0n,y=(null==g?void 0:g.balancePToken)||0n,T=(null==g?void 0:g.claimableAssetBalance)||0n;return null==g||g.redeemingBalance,(0,t.jsxs)("div",{className:(0,i.cn)("grid grid-cols-1 md:grid-cols-3 gap-5",w),children:[(0,t.jsxs)("div",{className:"card !p-0 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex p-5 bg-[#A3D395] gap-5",children:[(0,t.jsx)(l.Z,{className:"text-[3.375rem]",showBg:!0}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("div",{className:"text-xl text-black font-semibold",children:a.pTokenSymbol}),(0,t.jsx)("div",{className:"text-xs text-black/60 font-medium",children:"Interest bearing rebase principal token"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col p-5 gap-5",children:[(0,t.jsx)(TupleTxt,{tit:"APY",sub:"176.4%"}),(0,t.jsx)(TupleTxt,{tit:"Total Minted",sub:"".concat(a.pTokenSymbol,"  ").concat((0,r.dq)(j.pTokenTotal))})]})]}),(0,t.jsx)("div",{className:"md:col-span-2 card !p-4",children:(0,t.jsx)(N.x,{data:[{tab:"Mint",content:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(v.W,{asset:a.assetSymbol,amount:s,balance:k,setAmount:n}),(0,t.jsx)("div",{className:"text-xs font-medium ",children:"Receive 1 ".concat(a.pTokenSymbol," for every ").concat(a.assetSymbol)}),(0,t.jsx)(f.v,{className:"mx-auto mt-6",tx:"Mint",disabled:d<=0n||d>k,spender:a.vault,approves:{[a.asset]:d},config:{abi:c.j5,address:a.vault,functionName:"deposit",args:[d]},onTxSuccess:()=>{n("")}})]})},{tab:"Redeem",content:(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(v.W,{asset:a.pTokenSymbol,assetIcon:"Panda",amount:x,balance:y,setAmount:u}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-between items-center h-5",children:[(0,t.jsx)("div",{className:"text-xs font-medium  ",children:"Your ".concat(a.pTokenSymbol," can be claimed 1:1 for ").concat(a.assetSymbol," at the end of this Epoch")}),(0,t.jsxs)("div",{className:"flex text-xs items-center gap-5",children:["Claimable: ".concat((0,r.dq)(T)),(0,t.jsx)(f.v,{className:"",busyShowTxet:!1,txType:"btn-link",tx:"Claim",disabled:T<=0n,config:{abi:c.gg,address:(null==g?void 0:g.redeemPool)||p.DR,functionName:"claimAssetToken"},onTxSuccess:()=>{}})]})]}),(0,t.jsx)(f.v,{className:"mx-auto mt-6",tx:"Redeem",spender:null==g?void 0:g.redeemPool,approves:{[a.pToken]:b},disabled:g&&b<=0n||b>y,config:{abi:c.gg,address:(null==g?void 0:g.redeemPool)||p.DR,functionName:"redeem",args:[d]},onTxSuccess:()=>{u("")}})]})}]})})]})}function BVaultY(e){let{bvc:a}=e,[s,l]=(0,m.useState)(""),x=(0,i.su)(s),{bVaultsData:u}=(0,m.useContext)(o.g),b=u[a.vault],p=b.epoches.find(e=>0n==e.epochId),j=(null==p?void 0:p.balanceAssset)||0n,{data:g}=(0,h.u)({abi:c.j5,address:a.vault,functionName:"calcSwapResult",args:[(0,i.su)("1")]}),N=(0,i.ok)(g,"Y"),k=(0,r.dq)(N),y=(0,r.dq)(x*N/d.Pq),T=(N-(0,i.su)("1"))*BigInt(1e10)/(0,i.su)("1");return(0,t.jsxs)("div",{className:(0,i.cn)("grid grid-cols-1 md:grid-cols-3 gap-5 mt-5",w),children:[(0,t.jsxs)("div",{className:"card !p-0 overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex p-5 bg-[#F0D187] gap-5",children:[(0,t.jsx)(n.Z,{className:"text-[3.375rem]",showBg:!0}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("div",{className:"text-xl text-black font-semibold",children:a.yTokenSymbol}),(0,t.jsx)("div",{className:"text-xs text-black/60 font-medium",children:"Boost bribes yield"})]})]}),(0,t.jsxs)("div",{className:"flex flex-col p-5 gap-5",children:[(0,t.jsxs)("div",{className:"text-base font-semibold flex gap-5 items-end",children:[(0,t.jsx)("span",{className:"text-4xl font-medium",children:"40x"}),"Bribes Yield"]}),(0,t.jsx)(TupleTxt,{tit:"Total Minted",sub:"".concat(a.yTokenSymbol,"  ").concat((0,r.dq)(b.pTokenTotal))})]})]}),(0,t.jsxs)("div",{className:"md:col-span-2 card !p-4 flex flex-col gap-1",children:[(0,t.jsx)(v.W,{asset:a.assetSymbol,amount:s,balance:j,setAmount:l}),(0,t.jsx)("div",{className:"text-base font-bold my-2",children:"Receive"}),(0,t.jsx)(v.W,{asset:a.yTokenSymbol,assetIcon:"Venom",readonly:!0,disable:!0,amount:y}),(0,t.jsxs)("div",{className:"text-xs font-medium  flex justify-between",children:[(0,t.jsx)("span",{children:"Current Price: 1 ".concat(a.assetSymbol,"=").concat(k," ").concat(a.yTokenSymbol)}),(0,t.jsx)("span",{children:"Price Impact: ".concat((0,i.Jh)(T,10,2))})]}),(0,t.jsx)(f.v,{className:"mx-auto mt-6",tx:"Buy",disabled:x<=0n||x>j,config:{abi:c.j5,address:a.vault,functionName:"swap",args:[x]},onTxSuccess:()=>{l("")}})]})]})}function BribeTit(e){return(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)(j.c,{symbol:"GreenDot",size:14}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.name})]})}function BVaultPools(e){let{bvc:a}=e,[s,l]=(0,m.useState)(!1),n=[10,9,8,7,6,5,4,3,2,1],[c,d]=(0,u.Z)(),[o,x]=(0,m.useState)("");return(0,i.su)(o),(0,t.jsxs)("div",{className:(0,i.cn)("grid grid-cols-1 md:grid-cols-3 gap-5 mt-5",w),children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{ref:c,className:"flex items-center gap-8 text-xl font-semibold mb-6",children:[(0,t.jsx)("span",{children:"My Pool Only"}),(0,t.jsx)(Switch,{checked:s,onChange:l})]}),(0,t.jsx)(b.aV,{className:n.length>6?"pr-5":"",width:d.width,height:436,rowHeight:e=>{let{index:a}=e;return a<n.length-1?76:56},overscanRowCount:6,rowCount:n.length,rowRenderer:function(e){let{key:a,style:s,index:l}=e;return(0,t.jsx)("div",{style:s,children:(0,t.jsxs)("div",{className:(0,i.cn)("flex h-[56px] card !rounded-lg !p-5 justify-between items-center font-semibold",l<n.length-1?"mb-[20px]":""),children:[(0,t.jsxs)("div",{className:"text-base",children:["Epoch ",n[l]]}),(0,t.jsx)("div",{className:"text-xs dark:text-white/60",children:"3/4/2024~4/4/2024"})]})},a)}})]}),(0,t.jsxs)("div",{className:"md:col-span-2 card !p-4 flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex gap-6 items-end font-semibold",children:[(0,t.jsx)("span",{className:"text-xl ",children:"Accumulated bribes"}),(0,t.jsx)("span",{className:"text-xs dark:text-white/60",children:"Epoch10"})]}),(0,t.jsx)("div",{className:"flex-1 mt-3 rounded-lg border border-solid border-border p-4",children:(0,t.jsx)(g.ZP,{headerClassName:"text-center text-black/60 dark:text-white/60 border-b-0",rowClassName:"text-center",header:["","","Total","You Share",""],span:{1:2,2:1,3:1},data:[["",(0,t.jsx)(BribeTit,{name:"Bera"},"1"),(0,r.dq)(0x1a48beeb15ac55aafea3n),(0,r.dq)(0x1a48beeb15ac55aafea3n),""],["",(0,t.jsx)(BribeTit,{name:"RED"},"1"),(0,r.dq)(0x1a48beeb15ac55aafea3n),(0,r.dq)(0x1a48beeb15ac55aafea3n),""],["",(0,t.jsx)(BribeTit,{name:"ZOO"},"1"),(0,r.dq)(0x1a48beeb15ac55aafea3n),(0,r.dq)(0x1a48beeb15ac55aafea3n),""],["",(0,t.jsx)(BribeTit,{name:"iBGT"},"1"),(0,r.dq)(0x1a48beeb15ac55aafea3n),(0,r.dq)(0x1a48beeb15ac55aafea3n),""]]})}),(0,t.jsx)(v.W,{asset:a.yTokenSymbol,assetIcon:"Venom",amount:o,balance:0n,setAmount:x}),(0,t.jsx)("span",{className:"text-xs mx-auto",children:"You will receive 0.023% of total bribes"}),(0,t.jsx)(f.v,{className:"mx-auto mt-4",tx:"Harvest",disabled:!0,config:{},onTxSuccess:()=>{x("")}})]})]})}function BVaultMint(e){let{bvc:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(BVaultP,{bvc:a}),(0,t.jsx)(BVaultY,{bvc:a})]})}function BVaultHarvest(e){let{bvc:a}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(BVaultPools,{bvc:a})})}function BVaultCard(e){let{vc:a}=e,s=(0,x.useRouter)(),[l,n]=a.assetSymbol.split("-");return(0,t.jsxs)("div",{className:(0,i.cn)("card cursor-pointer !p-0 grid grid-cols-2 overflow-hidden",{}),onClick:()=>s.push("/b-vaults?vault=".concat(a.vault)),children:[(0,t.jsxs)("div",{className:(0,i.cn)(k.bG,"border-b","bg-black/10 dark:bg-white/10 col-span-2 flex-row px-4 md:px-5 py-4 items-center"),children:[(0,t.jsx)(j.c,{symbol:a.assetSymbol,size:44}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:" text-lg font-semibold whitespace-nowrap",children:a.assetSymbol}),(0,t.jsx)("div",{className:" text-sm font-medium",children:a.assetSymbol.includes("-")?"LP Token":""})]}),(0,t.jsxs)("div",{className:"ml-auto",children:[(0,t.jsx)("div",{className:"text-[#64748B] dark:text-slate-50/60 text-xs font-semibold whitespace-nowrap",children:"Total Value Locked"}),(0,t.jsx)("div",{className:"text-sm font-medium",children:"$932840598"})]})]}),(0,k.BW)(l,0n,0n),(0,k.BW)(n,0n,0n,!0),(0,k.yP)("Status","status","Epoch 2"),(0,k.yP)("Reward","iBGT","iBGT",!0),(0,k.Sn)("Panda","Principal Panda","23.32%","Venom","Boost Venom","40x")]})}var y=s(50553),T=s(6868),B=s(44939),S=s(87031),C=s(59175),P=s(62600);let V=["mint","harvest"];function Vaults(){let e=(0,C.p)(),a=S.Fw[e];a[0];let s=(0,x.useSearchParams)(),l=s.get("vault"),n=s.get("tab");V.includes(n);let c=a.find(e=>e.vault==l);return(0,t.jsx)(B.E,{children:(0,t.jsxs)("div",{className:"w-full max-w-[1160px] px-4 mx-auto md:pb-8",children:[(0,t.jsx)(y.a,{}),c?(0,t.jsx)(N.x,{listClassName:"flex-wrap p-0 mb-5 md:gap-14",triggerClassName:'text-lg sm:text-xl md:text-2xl py-0 data-[state="active"]:border-b border-b-black dark:border-b-white leading-[0.8] rounded-none whitespace-nowrap',contentClassName:"gap-5",data:[{tab:"Mint",content:(0,t.jsx)(BVaultMint,{bvc:c})},{tab:"Harvest",content:(0,t.jsx)(BVaultHarvest,{bvc:c})}]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"page-title",children:"B-Vaults"}),(0,t.jsx)(T.K,{data:"A pendle-like product with more innovation."}),(0,t.jsx)(P.r,{numItems:1,numItemsMd:2,numItemsLg:3,className:"gap-5 mt-4",children:a.map((e,a)=>(0,t.jsx)(BVaultCard,{vc:e},"group_vault_item_".concat(a)))})]})]})})}}},function(e){e.O(0,[4881,7495,7622,3458,5294,3119,8410,9912,5631,9447,2987,7115,2389,553,7112,5187,7093,604,1744],function(){return e(e.s=92537)}),_N_E=e.O()}]);